<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html"; charset="utf-8">
        <title>Video 37 Canvas XII y XIII</title>

        <style>
            #lienzo{
                border: 1px solid red;
            }
            section{
                width: 1200px;
                position: relative;
                margin: auto;
            }
        </style>

        <script>
            
            window.addEventListener("load", comenzar, false);

            var y=300;
            var estado;
            var arriba=y;
            var horizontal=0;

            function comenzar(){
                var elemento=document.getElementById("lienzo");
                lienzo=elemento.getContext("2d");

                setInterval(animacion,50);
            }
            
            function animacion(){
                if(y<900 && estado=="bajando"){
                                    
                    lienzo.clearRect(0,0,1200,900);

                    lienzo.beginPath();
                    lienzo.arc(500+horizontal,y,40,0,Math.PI*2,false);
                    lienzo.fill();

                    y+=50;
                    horizontal+=4;
                }   
                
                if(y==900){
                    estado="subiendo"
                    arriba+=50;
                }
                if(y>arriba && estado=="subiendo"){
                    lienzo.clearRect(0,0,1200,900);

                    lienzo.beginPath();
                    lienzo.arc(500+horizontal,y,40,0,Math.PI*2,false);
                    lienzo.fill();

                    y-=50;
                    horizontal+=4;
                }

                if(y==arriba){
                    estado="bajando"
                }
            }
           
        </script>
    </head>

    <body>

        <section>
            <canvas width="1200" height="900" id="lienzo">
                Su navegador no soporta el elemento canvas.
            </canvas>
        </section>

    </body>

</html>